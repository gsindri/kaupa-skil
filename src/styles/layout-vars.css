:root {
  --layout-rail: 72px;     /* nav rail width */
  --header-h: 56px;        /* unified header height */
  --toolbar-h: var(--header-h, 56px); /* toolbar follows header */
  --chrome-h: var(--header-h);  /* chrome follows header */
  --sidebar-push: 0px;     /* dynamically updated by AppLayout */
  --header-left: calc(var(--layout-rail) + var(--sidebar-push, 0px));

  /* Filters panel tokens */
  --filters-w: 320px;      /* desktop panel width */
  --filters-w-mobile: min(92vw, 360px); /* mobile drawer width */
  --filters-transition: 200ms cubic-bezier(0.4, 0, 0.2, 1);

  /* top bar sizing + radii */
  --icon-btn: 40px;
  --chip-h: 40px;
  --r-chip: 12px;
  --r-pill: 9999px;
  --gap: 12px;
  --icon: 24px;

  /* Visual tokens */
  --topbar-bg: radial-gradient(120% 80% at 0% 0%, #0f2237 0%, #0b1b2e 60%, #0a1930 100%);
  --toolbar-bg: rgba(15, 26, 41, 0.88);
  --chip-bg: rgba(255, 255, 255, 0.14);
  --chip-bg-hover: rgba(255, 255, 255, 0.18);
  --seg-active-bg: rgba(255, 255, 255, 0.18);

  --ink-hi: #ecf2f8;
  --ink: rgba(236, 242, 248, 0.88);
  --ink-dim: rgba(236, 242, 248, 0.68);

  --accent-fill: #e1c182;
  --accent-ink: #242424;

  --ring-idle: rgba(255, 255, 255, 0.1);
  --ring-hover: rgba(255, 255, 255, 0.2);
  --ring: var(--ring-idle);
  --focus: #28d7ff;

  --z-rail: 60;      /* highest - sidebar always on top */
  --z-stripe: 56;    /* cyan stripe above header */
  --z-header: 55;    /* header content on top */
  --z-chrome: 50;    /* chrome background below header */
  --z-popover: 70;   /* overlay surfaces (menus, popovers) */
  --z-dialog-overlay: 72; /* global dialog overlay layer */
  --z-dialog-content: 80; /* spotlight/dialog content */

  /* Cart rail tokens */
  --page-gutter: clamp(16px, 4vw, 32px);
  --cart-rail-w: 240px;           /* cart width when open */
  --cart-rail-transition: 240ms cubic-bezier(0.4, 0, 0.2, 1);

  /* Catalog toolbar tokens */
  --toolbar-ring: 0 0 0 1px rgba(255, 255, 255, 0.1) inset;
  --toolbar-shadow: 0 28px 60px rgba(3, 10, 22, 0.55);

  /* Elevated surfaces */
  --surface-raised: rgba(10, 22, 36, 0.78);
  --surface-raised-strong: rgba(14, 30, 50, 0.92);
  --r-card: 20px;

  --ctrl-h: 40px;
  --ctrl-r: 12px;
  --icon-btn: 40px;

  --field-bg: #0f1b28;
  --field-bg-elev: #112133;
  --field-ring: rgba(255, 255, 255, 0.1);
}

/* Filters panel mobile drawer */
@media (max-width: 1023px) {
  .filters-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.32);
    backdrop-filter: blur(4px);
    z-index: var(--z-popover, 70);
  }

  .filters-drawer {
    position: fixed;
    inset: 0 auto 0 0;
    width: var(--filters-w-mobile);
    height: 100vh;
    background: hsl(var(--background));
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);
    z-index: calc(var(--z-popover, 70) + 1);
    overflow-y: auto;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .transition-\[width\] {
    transition: none !important;
  }
  
  .filters-drawer,
  .filters-backdrop {
    transition: none !important;
  }
}
