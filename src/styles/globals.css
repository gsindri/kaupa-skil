:root{
  /* Overlay foundation */
  --brand-bg:#0f2031;
  --brand-accent:#f59e0b;
  --brand-accent-fg:#0a1522;
  --surface-pop:#0f1b28;
  --surface-pop-2:#0a1522;
  --surface-ring:#1d334b;
  --text:#eaf0f7;
  --text-muted:#cfd7e4;
  --elev-shadow:0 24px 60px rgba(2,12,27,.45);
  --overlay:rgba(7,15,25,.55);
  --radius-xl:16px;
  --radius-lg:12px;
  --enter:160ms cubic-bezier(.2,.7,.25,1);
  --leave:130ms cubic-bezier(.2,.7,.25,1);

  /* Brand gradient */
  --brand-from:#0B1220;
  --brand-via:#0E1B35;
  --brand-to:#0E2A5E;

  /* Signature accent ("memory stripe", focus, progress) */
  --text-on-dark:#E6EDF6;
  --text-subtle:#B9C2D0;

  /* Radius scale (non-default) */
  --radius-1:6px;   /* small buttons, inputs */
  --radius-2:12px;  /* chips, pills */
  --radius-3:18px;  /* big buttons, nav items */
  --radius-4:24px;  /* cards, search shell */
  --radius-pill:9999px;

  /* Motion */
  --dur-fast:120ms;
  --dur-base:200ms;
  --ease-snap:cubic-bezier(.22,1,.36,1);
  --hdr-ms:220ms;
  --hdr-ease:cubic-bezier(.22,.61,.36,1);

  /* Header layout */
  --header-left:var(--sidebar-w);  /* set from sidebar width */
  --cart-rail-top:var(--header-h,64px);

  /* Action colors */
  --button-primary:#0B5BD3;
  --button-primary-hover:#0A53C1;

  /* Availability badges */
  --badge-in-bg:#D6FBEF;
  --badge-in-text:#046C4E;
  --badge-low-bg:#FEF3C7;
  --badge-low-text:#92400E;
  --badge-out-bg:#FCE2E6;
  --badge-out-text:#8C1D2E;
  --badge-unknown-bg:#E8EEF7;
  --badge-unknown-text:#2B3A55;

  /* Memory stripe */
  --stripe-from:#22E0E0;
  --stripe-to:#12B6C5;

  /* Catalog imagery */
  --catalog-image-surface:#f7f8fd;
  --catalog-image-stroke:rgba(15,23,42,0.06);
  --catalog-image-vignette:linear-gradient(180deg,rgba(14,23,42,0.02) 0%,rgba(14,23,42,0.01) 55%,rgba(14,23,42,0.03) 100%);
  --catalog-image-floor:linear-gradient(180deg,rgba(14,23,42,0) 68%,rgba(14,23,42,0.08) 100%);
  --catalog-image-placeholder:rgba(14,23,42,0.16);
  --catalog-card-surface:#ffffff;
  --catalog-card-surface-hover:#ffffff;
  --catalog-card-ring-idle:rgba(15,23,42,0.14);
  --catalog-card-ring-hover:rgba(15,23,42,0.18);
  --catalog-card-ring-selected:rgba(33,212,214,0.42);
  --catalog-card-shadow:0 24px 44px -30px rgba(15,23,42,0.48),0 8px 20px -24px rgba(15,23,42,0.14);
  --catalog-card-shadow-hover:0 34px 60px -28px rgba(15,23,42,0.56),0 16px 32px -22px rgba(15,23,42,0.2);
  --catalog-focus-ring:rgba(33,212,214,0.92);
  --catalog-focus-glow:rgba(33,212,214,0.22);
  --catalog-cta-bg:linear-gradient(135deg,#4a63d8 0%,#3d56c8 100%);
  --catalog-cta-bg-hover:linear-gradient(135deg,#5069df 0%,#435dcd 100%);
  --catalog-cta-shadow:0 18px 32px -20px rgba(34,57,126,0.45);
  --catalog-cta-bg-disabled:linear-gradient(135deg,rgba(74,99,216,0.24) 0%,rgba(61,86,200,0.2) 100%);
}

input[type='search']::-webkit-search-cancel-button,
input[type='search']::-webkit-search-decoration,
input[type='search']::-webkit-search-results-button,
input[type='search']::-webkit-search-results-decoration {
  display: none;
}

input[type='search']::-ms-clear {
  display: none;
  width: 0;
  height: 0;
}

input[type='search'] {
  -webkit-appearance: none;
}

/* Light-mode fallback if needed */
@media (prefers-color-scheme: light){
  :root{
    --brand-bg:#0f2031;
    --surface-pop:#f5f7fb;
    --surface-pop-2:#f8fafc;
    --surface-ring:#cbd5e1;
    --text:#0f2031;
    --text-muted:#41566f;
    --overlay:rgba(2,12,27,.35);
    --elev-shadow:
      0 24px 48px -24px rgba(15,23,42,0.24),
      0 14px 32px -16px rgba(15,23,42,0.16),
      0 4px 12px -4px rgba(15,23,42,0.12);
  }
}

.dark{
  --catalog-image-surface:#1a2b46;
  --catalog-image-stroke:rgba(255,255,255,0.16);
  --catalog-image-vignette:linear-gradient(180deg,rgba(0,0,0,0.32) 0%,rgba(0,0,0,0.18) 55%,rgba(0,0,0,0.28) 100%);
  --catalog-image-floor:linear-gradient(180deg,rgba(0,0,0,0) 70%,rgba(0,0,0,0.28) 100%);
  --catalog-image-placeholder:rgba(255,255,255,0.2);
  --catalog-card-surface:rgba(13,19,32,0.88);
  --catalog-card-surface-hover:rgba(13,19,32,0.94);
  --catalog-card-ring-idle:rgba(148,163,184,0.32);
  --catalog-card-ring-hover:rgba(148,163,184,0.42);
  --catalog-card-ring-selected:rgba(33,212,214,0.65);
  --catalog-card-shadow:0 28px 48px -30px rgba(2,6,23,0.72),0 8px 22px -20px rgba(2,6,23,0.5);
  --catalog-card-shadow-hover:0 36px 60px -26px rgba(2,6,23,0.76),0 16px 32px -20px rgba(2,6,23,0.62);
  --catalog-focus-ring:rgba(99,233,236,0.92);
  --catalog-focus-glow:rgba(33,212,214,0.3);
  --catalog-cta-bg:linear-gradient(135deg,rgba(96,126,236,0.92) 0%,rgba(83,108,224,0.92) 100%);
  --catalog-cta-bg-hover:linear-gradient(135deg,rgba(106,138,244,0.96) 0%,rgba(94,121,230,0.96) 100%);
  --catalog-cta-shadow:0 20px 36px -20px rgba(8,15,35,0.62);
  --catalog-cta-bg-disabled:linear-gradient(135deg,rgba(120,140,220,0.24) 0%,rgba(108,128,208,0.24) 100%);
}

[data-chrome-layer], #catalogHeader {
  will-change: transform;
}

/* Base look for any floating panel */
.pop-chrome,
.tw-pop{
  background:
    linear-gradient(
      160deg,
      color-mix(in oklab, var(--surface-pop) 95%, transparent) 0%,
      color-mix(in oklab, var(--surface-pop-2) 92%, transparent) 100%
    );
  color:var(--text);
  border:1px solid color-mix(in oklab, var(--surface-ring) 82%, transparent);
  border-radius:var(--radius-xl);
  box-shadow:
    var(--elev-shadow),
    0 12px 32px -18px color-mix(in oklab, var(--brand-bg) 32%, transparent),
    0 0 0 1px color-mix(in oklab, var(--surface-ring) 70%, transparent);
  backdrop-filter:saturate(120%) blur(10px);
}

.tw-pop{ padding:0.5rem; }

/* Section label + dividers */
.pop-section,
.tw-label{
  color:var(--text-muted);
  font-size:12px;
  letter-spacing:.02em;
  text-transform:uppercase;
}
.tw-label{ padding:0 0.5rem 0.25rem; }
.tw-label.normal-case{
  text-transform:none;
  letter-spacing:0;
}
.pop-div{ height:1px; background:color-mix(in oklab, var(--surface-ring) 24%, transparent); }

/* Selected row */
.pop-item,
.tw-row{
  display:grid;
  grid-template-columns:32px 1fr auto;
  gap:10px;
  align-items:center;
  min-height:48px;
  padding:12px 14px;
  border-radius:10px;
  font-size:14px;
  font-weight:500;
  line-height:1.2;
  color:var(--text);
  outline:1px solid transparent;
  cursor:pointer;
  transition:background var(--enter), outline var(--enter), box-shadow var(--enter), color var(--enter);
}

/* Cart rail layout */
.page-grid{
  display:grid;
  gap:0;
  grid-template-columns:minmax(0,1fr);
}

.page-grid__content{
  min-width:0;
}

/* Cart rail positioned in grid layout */

.cart-rail{
  --cart-rail-surface:color-mix(in oklab, #ffffff 92%, var(--surface-pop) 8%);
  --cart-rail-surface-strong:color-mix(in oklab, #ffffff 88%, var(--surface-pop) 12%);
  --cart-rail-text:#0f2031;
  --cart-rail-text-muted:color-mix(in oklab, var(--cart-rail-text) 58%, #70829c 42%);
  --cart-rail-border:color-mix(in oklab, var(--surface-ring) 60%, #ffffff 40%);
  --text:var(--cart-rail-text);
  --text-muted:var(--cart-rail-text-muted);
  background:
    linear-gradient(160deg,
      color-mix(in oklab, var(--cart-rail-surface) 92%, transparent) 0%,
      color-mix(in oklab, var(--cart-rail-surface-strong) 96%, transparent) 100%);
  border:1px solid var(--cart-rail-border);
  color:var(--cart-rail-text);
  display:grid;
  grid-template-rows:auto 1fr auto;
  font-size:12px;
  width:100%;
  max-height:100%;
  border-radius:16px;
  overflow:hidden;
  box-shadow:
    0 28px 48px -30px rgba(15,23,42,0.22),
    0 18px 36px -26px rgba(15,23,42,0.16),
    0 0 0 1px color-mix(in oklab, var(--cart-rail-border) 65%, transparent);
  backdrop-filter:saturate(120%) blur(14px);
}

.cart-rail--desktop{
  /* Grid-based positioning - styles handled inline in component */
}

@media (prefers-reduced-motion: reduce){
  .cart-rail--desktop{
    transition:none;
  }

  .cart-item{
    animation:none;
    opacity:1;
    transform:none;
  }
}

.cart-rail--mobile{
  width:90vw;
  max-width:360px;
  height:100vh;
  max-height:100vh;
  border-left:1px solid rgba(255,255,255,0.08);
  border-radius:0;
  box-shadow:var(--elev-shadow);
}

.cart-rail--mobile>button.absolute{
  display:none;
}

.cart-rail__header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:14px 16px 12px 0;
  border-bottom:1px solid color-mix(in oklab, var(--cart-rail-border) 82%, transparent);
  background:color-mix(in oklab, var(--cart-rail-surface) 90%, #ffffff 10%);
}

.cart-rail__title{
  display:flex;
  flex-direction:column;
  gap:4px;
  font-size:12px;
  font-weight:500;
  letter-spacing:0.08em;
  text-transform:uppercase;
}

.cart-rail__title-text{
  font-size:13px;
  letter-spacing:0.1em;
}

.cart-rail__count{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:2px 10px;
  border-radius:999px;
  background:color-mix(in oklab, var(--cart-rail-text) 8%, #ffffff 92%);
  color:var(--cart-rail-text-muted);
  font-size:11px;
  font-weight:600;
  letter-spacing:0;
  text-transform:none;
}

.cart-rail__close{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:22px;
  height:22px;
  border:0;
  border-radius:6px;
  background:transparent;
  color:var(--cart-rail-text-muted);
}

.cart-rail__close:hover,
.cart-rail__close:focus-visible{
  color:var(--cart-rail-text);
  outline:none;
  background:color-mix(in oklab, #ffffff 78%, transparent);
}

.cart-rail__close-icon{
  width:12px;
  height:12px;
}

@media (max-width:768px){
  .cart-rail__close{
    display:none;
  }
}

.cart-rail__body{
  overflow-y:auto;
  padding:16px 16px 18px 0;
  scrollbar-gutter:stable;
  background:linear-gradient(180deg,
    color-mix(in oklab, var(--cart-rail-surface) 94%, transparent) 0%,
    color-mix(in oklab, var(--cart-rail-surface-strong) 96%, transparent) 100%);
}

.cart-rail__list{
  display:flex;
  flex-direction:column;
  gap:12px;
  margin:0;
  padding:0;
  list-style:none;
}

.cart-rail__empty-state{
  display:grid;
  gap:8px;
  justify-items:center;
  text-align:center;
  padding:36px 16px 40px;
  color:var(--cart-rail-text-muted);
}

.cart-rail__empty-icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:52px;
  height:52px;
  border-radius:14px;
  background:color-mix(in oklab, var(--cart-rail-text) 6%, #ffffff 94%);
  color:var(--cart-rail-text);
}

.cart-rail__empty-icon svg{
  width:24px;
  height:24px;
}

.cart-rail__empty-title{
  font-size:15px;
  font-weight:600;
  color:var(--cart-rail-text);
}

.cart-rail__empty-copy{
  font-size:12px;
  line-height:1.5;
  max-width:200px;
}

.cart-item{
  display:grid;
  grid-template-columns:40px 1fr;
  gap:12px;
  padding:12px 14px;
  border-radius:14px;
  background:linear-gradient(160deg,
    color-mix(in oklab, var(--cart-rail-surface) 92%, transparent) 0%,
    color-mix(in oklab, var(--cart-rail-surface-strong) 96%, transparent) 100%);
  border:1px solid color-mix(in oklab, var(--cart-rail-border) 88%, transparent);
  box-shadow:0 12px 28px -22px rgba(15,23,42,0.24);
  transition:transform var(--enter), box-shadow var(--enter), border-color var(--enter);
}

.cart-item:hover,
.cart-item:focus-within{
  transform:translateY(-1px);
  border-color:color-mix(in oklab, var(--cart-rail-border) 70%, transparent);
  box-shadow:0 18px 32px -24px rgba(15,23,42,0.26);
}

.cart-item__media{
  display:flex;
  align-items:center;
  justify-content:center;
}

.cart-item__thumb{
  width:40px;
  height:40px;
  object-fit:cover;
  border-radius:12px;
  background:color-mix(in oklab, var(--cart-rail-text) 8%, #ffffff 92%);
  border:1px solid color-mix(in oklab, var(--cart-rail-border) 82%, transparent);
}

.cart-item__thumb--fallback{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:40px;
  height:40px;
  border-radius:12px;
  font-weight:600;
  color:var(--cart-rail-text);
  background:linear-gradient(135deg,
    color-mix(in oklab, var(--cart-rail-text) 12%, #ffffff 88%) 0%,
    color-mix(in oklab, var(--cart-rail-text) 6%, #ffffff 94%) 100%);
}

.cart-item__meta{
  display:flex;
  flex-direction:column;
  gap:8px;
  min-width:0;
}

.cart-item__topline{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:10px;
}

.cart-item__title{
  flex:1;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  font-weight:600;
  font-size:13px;
}

.cart-item__line-total{
  font-weight:600;
  font-size:12px;
  color:var(--cart-rail-text);
  font-variant-numeric:tabular-nums;
}

.cart-item__supplier{
  font-size:11px;
  color:var(--cart-rail-text-muted);
  letter-spacing:0.02em;
  text-transform:uppercase;
}

.cart-item__unit-price{
  font-size:11px;
  color:color-mix(in oklab, var(--cart-rail-text-muted) 88%, #6c7a92 12%);
  font-variant-numeric:tabular-nums;
}

.cart-item__controls{
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap:10px;
  flex-wrap:wrap;
}

.cart-item__stepper{
  flex:1;
  height:28px !important;
  min-width:102px !important;
  border-radius:999px !important;
  border-color:color-mix(in oklab, var(--cart-rail-border) 70%, transparent) !important;
  background:color-mix(in oklab, var(--cart-rail-surface) 88%, #ffffff 12%) !important;
  color:var(--cart-rail-text) !important;
  padding:0 6px !important;
}

.cart-item__stepper button{
  width:20px !important;
  height:20px !important;
  padding:0 !important;
}

.cart-item__stepper span,
.cart-item__stepper input{
  font-size:12px !important;
  min-width:24px !important;
}

.cart-item__stepper svg{
  width:14px !important;
  height:14px !important;
}

.cart-item__remove{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:28px;
  height:28px;
  border:1px solid color-mix(in oklab, var(--cart-rail-border) 76%, transparent);
  border-radius:999px;
  background:transparent;
  color:var(--cart-rail-text-muted);
  transition:background var(--enter), color var(--enter), border-color var(--enter);
}

.cart-item__remove:hover,
.cart-item__remove:focus-visible{
  color:var(--cart-rail-text);
  outline:none;
  border-color:color-mix(in oklab, var(--cart-rail-border) 66%, transparent);
  background:color-mix(in oklab, var(--cart-rail-text) 8%, #ffffff 92%);
}

.cart-item__remove-icon{
  width:14px;
  height:14px;
}

.cart-rail__footer{
  padding:16px;
  border-top:1px solid color-mix(in oklab, var(--cart-rail-border) 78%, transparent);
  display:grid;
  gap:12px;
  background:linear-gradient(180deg,
    color-mix(in oklab, var(--cart-rail-surface-strong) 92%, transparent) 0%,
    color-mix(in oklab, var(--cart-rail-surface-strong) 96%, transparent) 100%);
}

.cart-rail__summary{
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-variant-numeric:tabular-nums;
  font-size:13px;
  font-weight:500;
  color:var(--cart-rail-text);
}

.cart-rail__summary span:first-child{
  color:var(--cart-rail-text-muted);
  font-weight:500;
  font-size:12px;
}

.cart-rail__subtotal{
  font-weight:700;
  font-size:14px;
}

.cart-rail__checkout{
  width:100% !important;
  height:40px !important;
  font-size:13px !important;
  border-radius:999px !important;
  padding:0 !important;
  background:linear-gradient(135deg,#0a5bd3 0%,#0f4fb3 100%) !important;
  color:#fff !important;
  box-shadow:0 16px 30px -20px rgba(11,91,211,0.55);
  transition:transform var(--enter), box-shadow var(--enter);
}

@keyframes cartItemIn{
  to{
    opacity:1;
    transform:translateX(0);
  }
}

.cart-rail__checkout:hover{
  transform:translateY(-1px);
  box-shadow:0 18px 34px -18px rgba(9,79,192,0.6);
}

.cart-button-pulse{
  animation:cartButtonPulse 0.78s var(--ease-snap, cubic-bezier(.22,1,.36,1));
}

.cart-button-pulse::after{
  content:"";
  position:absolute;
  inset:50% auto auto 50%;
  width:140%;
  height:140%;
  transform:translate(-50%, -50%) scale(.82);
  border-radius:999px;
  background:radial-gradient(circle at center, rgba(245,158,11,.42) 0%, rgba(245,158,11,0) 65%);
  opacity:0;
  pointer-events:none;
  animation:cartButtonGlow 0.78s var(--ease-snap, cubic-bezier(.22,1,.36,1));
}

@keyframes cartButtonPulse{
  0%{ transform:translateY(0) scale(1); }
  30%{ transform:translateY(-1px) scale(1.08); }
  62%{ transform:translateY(0) scale(1); }
  100%{ transform:translateY(0) scale(1); }
}

@keyframes cartButtonGlow{
  0%{ opacity:0; transform:translate(-50%, -50%) scale(.82); }
  28%{ opacity:.7; transform:translate(-50%, -50%) scale(1); }
  70%{ opacity:0; transform:translate(-50%, -50%) scale(1.18); }
  100%{ opacity:0; transform:translate(-50%, -50%) scale(1.22); }
}

@media (prefers-reduced-motion: reduce){
  .cart-button-pulse,
  .cart-button-pulse::after{
    animation:none !important;
  }
}

.cart-icon{
  transition:transform .2s ease-in-out;
}

.group:hover .cart-icon,
.group:focus-visible .cart-icon{
  transform:scale(1.1) rotate(-5deg);
}

.cart-icon__badge{
  filter:drop-shadow(0 2px 2px rgba(0,0,0,.2));
}

.cart-icon__badge-svg{
  transform-origin:center;
}

.cart-button-pulse .cart-icon__badge-svg{
  animation:cartBadgePop .3s ease-out;
}

@keyframes cartBadgePop{
  0%{ transform:scale(1); }
  50%{ transform:scale(1.25); }
  100%{ transform:scale(1); }
}

@media (prefers-reduced-motion: reduce){
  .cart-button-pulse .cart-icon__badge-svg{
    animation:none !important;
  }
}
.tw-row-loose{
  min-height:48px;
  padding-top:14px;
  padding-bottom:14px;
}
.pop-item>*:not(svg),
.tw-row>*:not(svg){
  min-width:0;
}

:is(.pop-item:not(.pop-item-plain),.tw-row:not(.tw-row-plain))[aria-selected="true"],
:is(.pop-item:not(.pop-item-plain),.tw-row:not(.tw-row-plain))[data-state="open"],
:is(.pop-item:not(.pop-item-plain),.tw-row:not(.tw-row-plain))[data-selected="true"],
:is(.pop-item:not(.pop-item-plain),.tw-row:not(.tw-row-plain))[data-highlighted],
:is(.pop-item:not(.pop-item-plain),.tw-row:not(.tw-row-plain))[data-state="checked"],
:is(.pop-item:not(.pop-item-plain),.tw-row:not(.tw-row-plain)):hover{
  background-color:transparent;
  outline:1px solid color-mix(in oklab, var(--brand-accent) 45%, transparent);
}

:is(.pop-item-plain,.tw-row-plain)[aria-selected="true"],
:is(.pop-item-plain,.tw-row-plain)[data-state="open"],
:is(.pop-item-plain,.tw-row-plain)[data-selected="true"],
:is(.pop-item-plain,.tw-row-plain)[data-highlighted],
:is(.pop-item-plain,.tw-row-plain)[data-state="checked"],
:is(.pop-item-plain,.tw-row-plain):hover{
  background-color:transparent;
  outline:1px solid color-mix(in oklab, var(--surface-ring) 80%, transparent);
}

/* Accent pill */
.pop-accent{
  background:var(--brand-accent);
  color:var(--brand-accent-fg);
  border-radius:999px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:0 0.5rem;
  font-size:12px;
  font-weight:600;
  line-height:1.2;
}

/* Focus ring */
:where(button,[role="menuitem"],[role="menuitemradio"],a,.pop-item,.tw-row):focus-visible{
  outline:2px solid var(--brand-accent);
  outline-offset:2px;
}

/* Keyboard hint */
.tw-kbd{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:1.5rem;
  height:18px;
  padding:0 0.35rem;
  font-size:12px;
  font-weight:500;
  line-height:1;
  border-radius:9999px;
  border:1px solid color-mix(in oklab, var(--surface-ring) 26%, transparent);
  background:color-mix(in oklab, var(--surface-pop) 8%, transparent);
  color:color-mix(in oklab, var(--text-muted) 85%, transparent);
}

/* Reusable motif */
.memory-stripe{ height:2px; background:linear-gradient(90deg,var(--stripe-from),var(--stripe-to)); }

/* Numbers align perfectly in tables/badges */
.ui-numeric{ font-variant-numeric: tabular-nums; }

/* Basic line clamp utilities for legacy Tailwind setup */
.line-clamp-1,

/* Lucide icons */
svg.lucide{ stroke-width:1.75; }
.icon-16{ width:16px; height:16px; }
.icon-18{ width:18px; height:18px; }
.icon-20{ width:20px; height:20px; }

/* Availability badges */
.badge{ display:inline-flex; align-items:center; gap:6px;
  height:28px; padding:0 12px; border-radius:var(--radius-pill);
  font-size:13px; line-height:1.1; font-weight:600;
}
.badge--in{ background:var(--badge-in-bg); color:var(--badge-in-text); }
.badge--low{ background:var(--badge-low-bg); color:var(--badge-low-text); }
.badge--out{ background:var(--badge-out-bg); color:var(--badge-out-text); }
.badge--unknown{ background:var(--badge-unknown-bg); color:var(--badge-unknown-text); }

/* Catalog grid card styling */
.catalog-card{ position:relative; border-radius:16px; background:hsl(var(--card)); border:1px solid color-mix(in oklab, hsl(var(--border)) 72%, transparent); box-shadow:0 12px 24px -22px rgba(15,23,42,0.45); transition:box-shadow var(--dur-base) var(--ease-snap), border-color var(--dur-base) var(--ease-snap); }
.catalog-card:hover,.catalog-card:focus-within{ box-shadow:0 20px 32px -28px rgba(15,23,42,0.6); border-color:color-mix(in oklab, hsl(var(--border)) 85%, transparent); }
.catalog-card[data-in-cart]{ border-color:color-mix(in oklab, hsl(var(--primary)) 50%, hsl(var(--border))); box-shadow:0 18px 36px -24px color-mix(in oklab, hsl(var(--primary)) 32%, rgba(15,23,42,0.6)); }

.catalog-card__surface{ position:relative; display:flex; height:12.5rem; width:100%; align-items:center; justify-content:center; border-radius:14px; background:#fff; overflow:hidden; }
.dark .catalog-card__surface{ background:#fff; }
.catalog-card__count-chip{ position:absolute; top:0.75rem; right:0.75rem; display:inline-flex; min-width:1.5rem; height:1.5rem; align-items:center; justify-content:center; padding:0 0.35rem; border-radius:999px; background:hsl(var(--primary)); color:hsl(var(--primary-foreground)); font-size:0.75rem; font-weight:600; box-shadow:0 10px 18px -14px rgba(15,23,42,0.45); }
.catalog-card__image-frame{ position:relative; display:flex; width:100%; height:100%; align-items:center; justify-content:center; padding:1.25rem; }
.catalog-card__image{ display:block; max-width:100%; max-height:100%; object-fit:contain; }

.catalog-card__title{ display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; font-size:clamp(1rem, 1.6vw, 1.15rem); font-weight:650; line-height:1.28; letter-spacing:-0.012em; color:hsl(var(--foreground)); }
.dark .catalog-card__title{ color:rgba(241,245,249,0.92); }
.catalog-card__meta{ font-size:0.85rem; color:color-mix(in oklab, hsl(var(--muted-foreground)) 82%, transparent); }
.catalog-card__availability{ margin-top:0.25rem; display:inline-flex; }
.catalog-card__price{ margin-top:0.5rem; font-size:1rem; font-weight:600; color:hsl(var(--foreground)); }
.dark .catalog-card__price{ color:rgba(241,245,249,0.92); }

.catalog-card__footer{ border-top:1px solid color-mix(in oklab, hsl(var(--border)) 70%, transparent); background:linear-gradient(180deg, color-mix(in oklab, hsl(var(--muted)) 12%, transparent) 0%, transparent 85%); }
.dark .catalog-card__footer{ background:linear-gradient(180deg, color-mix(in oklab, rgba(148,163,184,0.22) 60%, transparent) 0%, transparent 90%); }
.catalog-card__footer-actions{ gap:0.75rem; }

.catalog-card__action{ display:inline-flex; align-items:center; justify-content:center; border-radius:0.75rem; font-weight:600; letter-spacing:0.01em; border-width:1px; border-style:solid; border-color:color-mix(in oklab, hsl(var(--border)) 80%, transparent); background:transparent; color:hsl(var(--primary)); transition:background-color var(--dur-base) var(--ease-snap), color var(--dur-base) var(--ease-snap), border-color var(--dur-base) var(--ease-snap); }
.catalog-card__action svg{ transition:color var(--dur-base) var(--ease-snap); }
.catalog-card__action:not(:disabled):hover{ background:hsl(var(--primary)); color:hsl(var(--primary-foreground)); border-color:hsl(var(--primary)); }
.catalog-card__action:not(:disabled):hover svg{ color:inherit; }
.catalog-card__action:disabled{ opacity:0.6; cursor:not-allowed; }

.catalog-card__footer-meta .catalog-card__action{ justify-content:flex-start; }

.catalog-card__stepper{ display:inline-flex; align-items:center; gap:0.5rem; padding:0.4rem 0.6rem; border-radius:0.75rem; border:1px solid color-mix(in oklab, hsl(var(--border)) 80%, transparent); background:color-mix(in oklab, hsl(var(--muted)) 12%, transparent); }
.dark .catalog-card__stepper{ background:color-mix(in oklab, rgba(148,163,184,0.22) 55%, transparent); border-color:color-mix(in oklab, rgba(148,163,184,0.55) 70%, transparent); }
.catalog-card__stepper-btn{ color:hsl(var(--foreground)); border-radius:0.55rem; transition:background-color var(--dur-base) var(--ease-snap), color var(--dur-base) var(--ease-snap); }
.catalog-card__stepper-btn:hover:not(:disabled){ background:color-mix(in oklab, hsl(var(--primary)) 12%, transparent); color:hsl(var(--primary)); }
.dark .catalog-card__stepper-btn{ color:rgba(241,245,249,0.92); }
.dark .catalog-card__stepper-btn:hover:not(:disabled){ background:color-mix(in oklab, rgba(148,163,184,0.45) 40%, transparent); color:#fff; }
.catalog-card__stepper-btn:disabled{ opacity:0.5; }
.catalog-card__stepper-count{ min-width:2.75rem; height:100%; padding:0; font-variant-numeric:tabular-nums; font-size:0.95rem; font-weight:600; background:transparent; color:inherit; border:none; }
.dark .catalog-card__stepper-count{ color:inherit; }

@keyframes catalog-chip-pulse{
  0%{ transform:scale(1); box-shadow:0 0 0 0 rgba(33,212,214,0); }
  40%{ transform:scale(1.05); box-shadow:0 0 0 6px rgba(33,212,214,.15); }
  100%{ transform:scale(1); box-shadow:0 0 0 0 rgba(33,212,214,0); }
}

@media (prefers-reduced-motion: reduce){
  .catalog-card{ transition:none; }
  .catalog-card__glint{ animation:none !important; }
  .catalog-chip--pulse{ animation:none; }
}
