<!-- Pantry Icon — stack from under shelves; returns on hover-out (fixed clipping) -->
<svg id="pantryIcon" xmlns="http://www.w3.org/2000/svg" viewBox="-48 -48 736 736" role="img" aria-label="Two-tier white-wood shelf with hover-activated stacking animation">
  <style>
    :root{
      --floor-top: 220px; /* distance from floor to top-shelf landing */
      --floor-bot: 120px; /* distance from floor to bottom-shelf landing */
    }
    #pantryIcon *{ transform-box: fill-box; transform-origin: center; }

    /* Items start hidden below shelf; base transition enables animated return */
    .item.top{ transform: translateY(var(--floor-top)); transition: transform .9s cubic-bezier(.2,.7,.2,1); }
    .item.bot{ transform: translateY(var(--floor-bot)); transition: transform .85s cubic-bezier(.2,.7,.2,1); }
    #pantryIcon[data-nav-measuring] *{
      animation: none!important;
      transition: none!important;
    }
    #pantryIcon[data-nav-measuring] .item.top,
    #pantryIcon[data-nav-measuring] .item.bot{
      display: none!important;
      transform: none!important;
      opacity: 0 !important;
    }
    #pantryIcon[data-nav-measuring] .contact-shadow{
      display: none!important;
      opacity: 0 !important;
      transform: none!important;
    }
    /* Per-item durations (keeps original feel) */
    #item-can{ transition-duration:.9s; }
    #item-doc{ transition-duration:.9s; }
    #item-jar{ transition-duration:.95s; }
    #item-drawer{ transition-duration:.8s; }
    #item-box{ transition-duration:.85s; }

    /* Rise on hover with stagger; fall back on hover-out */
    #pantryIcon:is(:hover, [data-hovered="true"]) #item-can   { transform: translateY(0);    transition-delay:0s; }
    #pantryIcon:is(:hover, [data-hovered="true"]) #item-doc   { transform: translateY(0);    transition-delay:.12s; }
    #pantryIcon:is(:hover, [data-hovered="true"]) #item-jar   { transform: translateY(0);    transition-delay:.26s; }
    #pantryIcon:is(:hover, [data-hovered="true"]) #item-drawer{ transform: translateY(0);    transition-delay:.40s; }
    #pantryIcon:is(:hover, [data-hovered="true"]) #item-box   { transform: translateY(0);    transition-delay:.52s; }

    /* Tiny settle bounce (hover-in only) */
    @keyframes settle { 0%{transform:translateY(0) rotate(0)} 35%{transform:translateY(-6px) rotate(.6deg)} 100%{transform:translateY(0) rotate(0)} }
    #pantryIcon:is(:hover, [data-hovered="true"]) .wobble.can    { animation: settle .5s ease-out .72s 1 both; }
    #pantryIcon:is(:hover, [data-hovered="true"]) .wobble.doc    { animation: settle .5s ease-out .86s 1 both; }
    #pantryIcon:is(:hover, [data-hovered="true"]) .wobble.jar    { animation: settle .55s ease-out .98s 1 both; }
    #pantryIcon:is(:hover, [data-hovered="true"]) .wobble.drawer { animation: settle .45s ease-out .96s 1 both; }
    #pantryIcon:is(:hover, [data-hovered="true"]) .wobble.box    { animation: settle .55s ease-out 1.04s 1 both; }

    /* Contact shadows: off until land; fade out on exit */
    .contact-shadow{ opacity:0; transform:scale(.25); transition: opacity .25s ease, transform .25s ease; }
    #pantryIcon:is(:hover, [data-hovered="true"]) #shadow-can   { transition-delay:.70s; opacity:.42; transform:scale(1); }
    #pantryIcon:is(:hover, [data-hovered="true"]) #shadow-doc   { transition-delay:.84s; opacity:.42; transform:scale(1); }
    #pantryIcon:is(:hover, [data-hovered="true"]) #shadow-jar   { transition-delay:.96s; opacity:.42; transform:scale(1); }
    #pantryIcon:is(:hover, [data-hovered="true"]) #shadow-drawer{ transition-delay:.94s; opacity:.42; transform:scale(1); }
    #pantryIcon:is(:hover, [data-hovered="true"]) #shadow-box   { transition-delay:1.02s;opacity:.42; transform:scale(1); }

    /* Micro FX only while hovered */
    @keyframes sweep { from{stroke-dashoffset:0} to{stroke-dashoffset:-280} }
    #pantryIcon:is(:hover, [data-hovered="true"]) .led { animation: sweep 5s linear infinite; }

    @keyframes driftUp { 0%{transform:translateY(8px); opacity:0} 20%{opacity:1} 100%{transform:translateY(-10px); opacity:0} }
    #pantryIcon:is(:hover, [data-hovered="true"]) .bub1{ animation:driftUp 3s ease-in-out infinite; }
    #pantryIcon:is(:hover, [data-hovered="true"]) .bub2{ animation:driftUp 3.2s .6s ease-in-out infinite; }

    @keyframes shimmer { from{transform:translateX(0)} to{transform:translateX(90px)} }
    #pantryIcon:is(:hover, [data-hovered="true"]) #drawerShine{ animation: shimmer 5.5s linear infinite; }

    @keyframes wiggle { 0%{transform:rotate(0)} 40%{transform:rotate(-4deg)} 100%{transform:rotate(0)} }
    #pantryIcon:is(:hover, [data-hovered="true"]) #boxFlap{ animation: wiggle 7s ease-in-out infinite; transform-origin: 40px 24px; }

    @media (prefers-reduced-motion: reduce){
      #pantryIcon *{ animation:none!important; transition-duration:.01ms!important; }
    }
  </style>

  <!-- ===== defs ===== -->
  <defs>
    <linearGradient id="woodTop" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0" stop-color="#ffffff"/><stop offset="1" stop-color="#f2f5ff"/>
    </linearGradient>
    <linearGradient id="woodFace" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0" stop-color="#eef2ff"/><stop offset="1" stop-color="#dfe6fb"/>
    </linearGradient>
    <pattern id="grain" width="120" height="40" patternUnits="userSpaceOnUse">
      <path d="M6 28c8-6 18-6 26 0M40 30c10-7 22-7 32 0M86 26c6-4 14-4 20 0
               M0 10c12-8 26-8 38 0M50 12c10-7 22-7 32 0M98 8c8-6 16-6 22 0"
            fill="none" stroke="#e9edf8" stroke-width="1.2" opacity=".55"/>
    </pattern>
    <radialGradient id="brass" cx="30%" cy="30%">
      <stop offset="0" stop-color="#ffd37a"/><stop offset="1" stop-color="#c89d3a"/>
    </radialGradient>
    <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="2" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>

    <!-- ✅ clip paths in shelf coordinate space -->
    <clipPath id="clipTopCavity" clipPathUnits="userSpaceOnUse">
      <!-- area above the top shelf board (items only visible when they rise into here) -->
      <rect x="160" y="180" width="320" height="140" rx="8"/>
    </clipPath>
    <clipPath id="clipBotCavity" clipPathUnits="userSpaceOnUse">
      <!-- area above the bottom shelf board -->
      <rect x="160" y="410" width="320" height="140" rx="8"/>
    </clipPath>
  </defs>

  <!-- POSTS -->
  <g transform="translate(0,40)">
    <rect x="156" y="238" width="24" height="332" rx="12" fill="url(#woodTop)" stroke="#ffffff" stroke-width="2"/>
    <rect x="460" y="238" width="24" height="332" rx="12" fill="url(#woodTop)" stroke="#ffffff" stroke-width="2"/>
    <g fill="url(#brass)" stroke="#9b8031" stroke-width="1">
      <circle cx="168" cy="272" r="3.6"/><circle cx="168" cy="340" r="3.6"/><circle cx="168" cy="408" r="3.6"/><circle cx="168" cy="476" r="3.6"/><circle cx="168" cy="544" r="3.6"/>
      <circle cx="472" cy="272" r="3.6"/><circle cx="472" cy="340" r="3.6"/><circle cx="472" cy="408" r="3.6"/><circle cx="472" cy="476" r="3.6"/><circle cx="472" cy="544" r="3.6"/>
    </g>
  </g>

  <!-- ===== TOP SHELF ===== -->
  <g transform="translate(0,40)">
    <!-- plane -->
    <polygon id="topPlane" points="190,280 450,280 480,320 160,320" fill="url(#woodTop)"/>
    <clipPath id="clipTopPlane"><use href="#topPlane"/></clipPath>
    <rect x="160" y="280" width="320" height="40" fill="url(#grain)" opacity=".5" clip-path="url(#clipTopPlane)"/>

    <!-- contact shadows (appear on landing) -->
    <g clip-path="url(#clipTopPlane)">
      <ellipse id="shadow-can" class="contact-shadow" cx="240" cy="317" rx="38" ry="7" fill="#000"/>
      <ellipse id="shadow-doc" class="contact-shadow" cx="332" cy="317" rx="36" ry="6.8" fill="#000"/>
      <ellipse id="shadow-jar" class="contact-shadow" cx="424" cy="317" rx="38" ry="7" fill="#000"/>
    </g>

    <!-- ✅ wrap all top items in a shelf-level clip (fixes invisible items) -->
    <g clip-path="url(#clipTopCavity)">
      <!-- CAN -->
      <g transform="translate(205,212)">
        <g id="item-can" class="item top">
          <g class="wobble can">
            <rect x="0" y="0" width="70" height="100" rx="10" fill="#dfe8f5" stroke="#c4d2ea" stroke-width="3"/>
            <rect x="0" y="-10" width="70" height="16" rx="8" fill="#c4d2ea"/>
            <rect x="6" y="20" width="58" height="64" rx="6" fill="#f6fbff" stroke="#c4d2ea" stroke-width="2"/>
            <g fill="#19e07f">
              <rect x="12" y="62" width="8" height="18" rx="2"/>
              <rect x="26" y="54" width="8" height="26" rx="2"/>
              <rect x="40" y="60" width="8" height="20" rx="2"/>
              <rect x="54" y="50" width="8" height="30" rx="2"/>
            </g>
          </g>
        </g>
      </g>

      <!-- DOCUMENT -->
      <g transform="translate(292,214)">
        <g id="item-doc" class="item top">
          <g class="wobble doc">
            <rect x="0" y="0" width="70" height="96" rx="8" fill="#f0f4fb" stroke="#0f2740" stroke-width="2.4" opacity=".96"/>
            <rect x="12" y="14" width="36" height="48" rx="3" fill="#ffffff" stroke="#d7deea" stroke-width="1.4"/>
            <g stroke="#b7c3d4" stroke-linecap="round">
              <line x1="14" y1="26" x2="46" y2="26" stroke-width="2"/>
              <line x1="14" y1="36" x2="46" y2="36" stroke-width="2"/>
              <line x1="14" y1="46" x2="40" y2="46" stroke-width="2"/>
            </g>
            <path d="M52,18 v30 l8,-6 v-24 z" fill="#e34848"/>
          </g>
        </g>
      </g>

      <!-- JAR -->
      <g transform="translate(392,218) scale(0.92)">
        <g id="item-jar" class="item top">
          <g class="wobble jar">
            <path id="jarOutline" d="M0,24 h84 v64 c0,16-18,34-42,34 s-42-18-42-34 z" fill="#f2fbff" stroke="#c6dff1" stroke-width="3"/>
            <rect x="10" y="0" width="64" height="18" rx="6" fill="#d8efff"/>
            <path d="M4,58 h76 v26 c0,14-16,30-38,30 s-38-16-38-30 z" fill="#58d4ff" opacity=".85"/>
            <g>
              <circle class="bub1" cx="30" cy="74" r="3" fill="#e9fbff" opacity=".95"/>
              <circle class="bub2" cx="46" cy="78" r="2.6" fill="#e9fbff" opacity=".95"/>
            </g>
            <g fill="none" stroke="#16b9ff" stroke-width="2" stroke-linecap="round" opacity=".9" stroke-dasharray="3 8">
              <path class="led" d="M20,44 h12 v-8 h12 v12 h12"/>
              <path class="led" d="M24,60 h18 v-6 h8 v10"/>
            </g>
          </g>
        </g>
      </g>
    </g> <!-- /top items clip -->

    <!-- front face -->
    <polygon points="160,320 480,320 468,338 172,338" fill="url(#woodFace)"/>
    <rect x="162" y="318" width="316" height="3" fill="#aebad6" opacity=".35"/>

    <!-- under-shelf LED (hover only) -->
    <line x1="166" y1="318" x2="474" y2="318" stroke="#aef2ff" stroke-width="4" stroke-linecap="round" filter="url(#glow)" stroke-dasharray="60 220" class="led"/>
  </g>

  <!-- ===== BOTTOM SHELF ===== -->
  <g transform="translate(0,40)">
    <polygon id="botPlane" points="190,510 450,510 480,550 160,550" fill="url(#woodTop)"/>
    <clipPath id="clipBotPlane"><use href="#botPlane"/></clipPath>
    <rect x="160" y="510" width="320" height="40" fill="url(#grain)" opacity=".5" clip-path="url(#clipBotPlane)"/>

    <!-- landing shadows -->
    <g clip-path="url(#clipBotPlane)">
      <ellipse id="shadow-drawer" class="contact-shadow" cx="262" cy="530" rx="50" ry="8" fill="#000"/>
      <ellipse id="shadow-box"    class="contact-shadow" cx="420" cy="530" rx="42" ry="8" fill="#000"/>
    </g>

    <!-- ✅ wrap bottom items in shelf-level clip -->
    <g clip-path="url(#clipBotCavity)">
      <!-- DATABASE DRAWER -->
      <g transform="translate(210,468)">
        <g id="item-drawer" class="item bot">
          <g class="wobble drawer">
            <rect x="-4" y="-6" width="132" height="74" rx="12" fill="#f6f8ff" stroke="#cdd7f1" stroke-width="3"/>
            <rect x="4" y="2" width="116" height="58" rx="9" fill="#e9efff" stroke="#cdd7f1" stroke-width="2"/>
            <rect id="drawerFace" x="16" y="18" width="92" height="26" rx="6" fill="#ffffff" stroke="#cdd7f1"/>
            <rect x="44" y="24" width="36" height="6" rx="3" fill="#c7d2ee"/>
            <rect x="40" y="34" width="44" height="4" rx="2" fill="#c7d2ee"/>
            <rect id="drawerShine" x="8" y="18" width="20" height="26" fill="#ffffff" opacity=".10" clip-path="url(#drawerFace)"/>
          </g>
        </g>
      </g>

      <!-- SHIPPING BOX -->
      <g transform="translate(380,464)">
        <g id="item-box" class="item bot">
          <g class="wobble box">
            <polygon points="0,64 40,52 80,64 40,76" fill="#e7cfad" stroke="#c9ad87" stroke-width="2"/>
            <polygon points="0,64 0,24 40,12 40,52" fill="#e7cfad" stroke="#c9ad87" stroke-width="2"/>
            <polygon points="80,64 80,24 40,12 40,52" fill="#e3c7a2" stroke="#c9ad87" stroke-width="2"/>
            <polygon id="boxFlap" points="0,24 40,12 80,24 40,36" fill="#edd7ba" stroke="#c9ad87" stroke-width="2"/>
            <rect x="38.5" y="10" width="3" height="42" fill="#f1e5cc" opacity=".9"/>
            <g fill="none" stroke="#9a7b56" stroke-width="2" opacity=".7">
              <path d="M22,44 l6,-8 l6,8"/>
              <path d="M52,44 l6,-8 l6,8"/>
            </g>
          </g>
        </g>
      </g>
    </g> <!-- /bottom items clip -->

    <!-- front face -->
    <polygon points="160,550 480,550 468,568 172,568" fill="url(#woodFace)"/>
    <rect x="162" y="548" width="316" height="3" fill="#aebad6" opacity=".35"/>

    <!-- under-shelf LED (hover only) -->
    <line x1="166" y1="548" x2="474" y2="548" stroke="#aef2ff" stroke-width="4" stroke-linecap="round" filter="url(#glow)" stroke-dasharray="60 220" class="led"/>
  </g>
</svg>
